# ä¸€æ¡åŒ…å«å­—æ¯ A-Z çš„æ¶ˆæ¯é€šè¿‡ä»¥ä¸‹æ˜ å°„è¿›è¡Œäº† ç¼–ç  ï¼š 
# 
#  
# 'A' -> 1
# 'B' -> 2
# ...
# 'Z' -> 26
#  
# 
#  è¦ è§£ç  å·²ç¼–ç çš„æ¶ˆæ¯ï¼Œæ‰€æœ‰æ•°å­—å¿…é¡»åŸºäºä¸Šè¿°æ˜ å°„çš„æ–¹æ³•ï¼Œåå‘æ˜ å°„å›å­—æ¯ï¼ˆå¯èƒ½æœ‰å¤šç§æ–¹æ³•ï¼‰ã€‚ä¾‹å¦‚ï¼Œ"111" å¯ä»¥å°† "1" ä¸­çš„æ¯ä¸ª "1" æ˜ å°„ä¸º "A
# " ï¼Œä»è€Œå¾—åˆ° "AAA" ï¼Œæˆ–è€…å¯ä»¥å°† "11" å’Œ "1"ï¼ˆåˆ†åˆ«ä¸º "K" å’Œ "A" ï¼‰æ˜ å°„ä¸º "KA" ã€‚æ³¨æ„ï¼Œ"06" ä¸èƒ½æ˜ å°„ä¸º "F" ï¼Œå› ä¸º "
# 6" å’Œ "06" ä¸åŒã€‚ 
# 
#  ç»™ä½ ä¸€ä¸ªåªå«æ•°å­—çš„ éç©º å­—ç¬¦ä¸² num ï¼Œè¯·è®¡ç®—å¹¶è¿”å› è§£ç  æ–¹æ³•çš„ æ€»æ•° ã€‚ 
# 
#  é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆè‚¯å®šæ˜¯ä¸€ä¸ª 32 ä½ çš„æ•´æ•°ã€‚ 
# 
#  
# 
#  ç¤ºä¾‹ 1ï¼š 
# 
#  
# è¾“å…¥ï¼šs = "12"
# è¾“å‡ºï¼š2
# è§£é‡Šï¼šå®ƒå¯ä»¥è§£ç ä¸º "AB"ï¼ˆ1 2ï¼‰æˆ–è€… "L"ï¼ˆ12ï¼‰ã€‚
#  
# 
#  ç¤ºä¾‹ 2ï¼š 
# 
#  
# è¾“å…¥ï¼šs = "226"
# è¾“å‡ºï¼š3
# è§£é‡Šï¼šå®ƒå¯ä»¥è§£ç ä¸º "BZ" (2 26), "VF" (22 6), æˆ–è€… "BBF" (2 2 6) ã€‚
#  
# 
#  ç¤ºä¾‹ 3ï¼š 
# 
#  
# è¾“å…¥ï¼šs = "0"
# è¾“å‡ºï¼š0
# è§£é‡Šï¼šæ²¡æœ‰å­—ç¬¦æ˜ å°„åˆ°ä»¥ 0 å¼€å¤´çš„æ•°å­—ã€‚å«æœ‰ 0 çš„æœ‰æ•ˆæ˜ å°„æ˜¯ 'J' -> "10" å’Œ 'T'-> "20" ã€‚ç”±äºæ²¡æœ‰å­—ç¬¦ï¼Œå› æ­¤æ²¡æœ‰æœ‰æ•ˆçš„æ–¹æ³•å¯¹æ­¤è¿›è¡Œ
# è§£ç ï¼Œå› ä¸ºæ‰€æœ‰æ•°å­—éƒ½éœ€è¦æ˜ å°„ã€‚
#  
# 
#  ç¤ºä¾‹ 4ï¼š 
# 
#  
# è¾“å…¥ï¼šs = "06"
# è¾“å‡ºï¼š0
# è§£é‡Šï¼š"06" ä¸èƒ½æ˜ å°„åˆ° "F" ï¼Œå› ä¸ºå­—ç¬¦ä¸²å¼€å¤´çš„ 0 æ— æ³•æŒ‡å‘ä¸€ä¸ªæœ‰æ•ˆçš„å­—ç¬¦ã€‚Â 
#  
# 
#  
# 
#  æç¤ºï¼š 
# 
#  
#  1 <= s.length <= 100 
#  s åªåŒ…å«æ•°å­—ï¼Œå¹¶ä¸”å¯èƒ½åŒ…å«å‰å¯¼é›¶ã€‚ 
#  
#  Related Topics å­—ç¬¦ä¸² åŠ¨æ€è§„åˆ’ 
#  ğŸ‘ 640 ğŸ‘ 0


# leetcode submit region begin(Prohibit modification and deletion)
"""
ä¸€ç»´æ•°ç»„ï¼š
å¦‚æœå½“å‰æ•°ä¸ä¸º0ä¸”èƒ½ä¸å‰ä¸€æ•°åˆæ³•ç»“åˆï¼Œåˆ™å½“å‰æ–¹æ³•æ•°ä¸ºå‰ä¸€æ–¹æ³•æ•°ä¸å‰å‰æ–¹æ³•æ•°ä¹‹å’Œ
"""
# class Solution:
#     def numDecodings(self, s: str) -> int:
#         if not int(s[0]) or not s:
#             return 0
#         n = len(s)
#         dp  = [1] + [0] * (n-1)
#         for i in range(1, n):
#             if int(s[i]):
#                 dp[i] = dp[i-1]
#             cur_s = 10 * (ord(s[i-1]) - ord('0')) + (ord(s[i]) - ord('0'))
#             if 10 <= cur_s <= 26:
#                 if i == 1:
#                     dp[i] += 1
#                 else:
#                     dp[i] += dp[i-2]
#         return dp[n-1]
"""
åŒæŒ‡é’ˆ
"""
# class Solution:
#     def numDecodings(self, s: str) -> int:
#         if not int(s[0]) or not s:
#             return 0
#         n, pre, cur = len(s), 1, 1
#         for i in range(1, n):
#             if int(s[i]):
#                 if s[i-1] == '1' or (s[i-1] == '2' and 0 < int(s[i]) <= 6):
#                     pre, cur = cur, cur + pre
#                 else:
#                     """
#                     å¦‚æœå½“å‰æ•°ä¸ä¸º0ä½†ä¹Ÿæ— æ³•ä¸å‰é¢çš„æ•°ç»“åˆï¼Œé‚£ä¹ˆå½“å‰æ–¹æ³•æ•°ä¸å‰ä¸€æ–¹æ³•æ•°ç›¸åŒï¼Œå³æ–¹æ³•æ— æ–°å¢ï¼Œ
#                     æ­¤æ—¶preç»§ç»­åç§»ï¼Œå³preç­‰äºå‰ä¸€æ–¹æ³•æ•°
#                     """
#                     pre = cur
#             else:
#                 if s[i - 1] == '1' or s[i - 1] == '2':
#                     """
#                     å¦‚æœå½“å‰æ•°ä¸º0ï¼Œä½†èƒ½ä¸å‰ä¸€æ•°ç»“åˆï¼Œåˆ™å½“å‰æ–¹æ³•æ•°ä¸å‰ä¸€æ–¹æ³•æ•°ï¼ˆå½“å‰æ–¹æ³•æ•°ä¸å‰ä¸€æ–¹æ³•æ•°ç›¸åŒï¼Œ
#                     è€Œå‰ä¸€æ–¹æ³•æ•°åˆä¸å†å‰æ–¹æ³•æ•°ç›¸åŒï¼‰ç›¸åŒï¼Œå³æ–¹æ³•æ•°æ— æ–°å¢
#                     """
#                     cur = pre
#                 else:
#                     """
#                     åœ¨å½“å‰æ•°ä¸º0çš„æƒ…å†µä¸‹ï¼Œåªè¦å‰ä¸€æ•°ä¸å½“å‰æ•°æ— æ³•ç»“åˆï¼Œåˆ™0å¿…é¡»å•ç‹¬è®¡ç®—ï¼Œåˆç”±äº0æ²¡æœ‰ç¼–ç ï¼Œåˆ™è¯¥æƒ…å†µæ— è§£
#                     """
#                     return 0
#         return cur

# class Solution:
#     def numDecodings(self, s: str) -> int:
#         if not int(s[0]) or not s:
#             return 0
#         dp = [1] + [0] * len(s)
#         dp[1] = 0 if s[0] == '0' else 1
#         for i in range(2, len(s)+1):
#             if 0 < int(s[i-1:i]) <= 9:
#                 dp[i] += dp[i-1]
#             if 10 <= int(s[i-2:i]) <= 26:
#                 dp[i] += dp[i-2]
#         return dp[len(s)]

"""
ï¼ˆ1ï¼‰å¦‚æœå½“å‰å­—ç¬¦ä¸ä¸º0ï¼š

    iï¼šä¸èƒ½ä¸å‰ä¸€å­—ç¬¦åˆæ³•ç»“åˆã€‚å› ä¸ºå½“å‰å­—ç¬¦ä¸ä¸º0ï¼Œé‚£ä¹ˆå½“å‰å­—ç¬¦ä¹Ÿèƒ½å•ç‹¬æˆä¸ºä¸€ç§è§£ç æ–¹æ³•ï¼Œè€Œå•ç‹¬è§£ç æ—¶ï¼Œæ–¹æ³•æ•°å¹¶æ— æ–°å¢ï¼Œä»ç„¶
    ç­‰äºå½“å‰å­—ç¬¦ä¸²ä¹‹å‰çš„è§£ç æ–¹æ³•æ•°ï¼›æ¯”å¦‚ï¼Œ"12"è§£ç æ•°ä¸º2ï¼Œå¦‚æœä¸è€ƒè™‘"22"ç»“åˆï¼Œ"122"çš„è§£ç æ–¹æ³•æ•°ä¹Ÿä¸º2ï¼›
    
    iiï¼šèƒ½ä¸å‰ä¸€å­—ç¬¦ç»“åˆã€‚è€ƒè™‘ä¸ç»“åˆçš„æƒ…å†µï¼Œå³ä¸ºiã€‚è€ƒè™‘ç»“åˆçš„æƒ…å†µï¼Œå½“å‰å­—ç¬¦ä¸å‰ä¸€å­—ç¬¦ç»“åˆçœ‹æˆä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆæƒ…å†µå°±å’Œå‰å‰ç§
    æƒ…å†µä¸€æ ·ï¼Œæ‰€ä»¥æ•´ä½“è§£ç æ–¹æ³•æ•°ç­‰äºæƒ…å†µiåŠ ä¸Šå‰å‰ç§æ–¹æ³•æ•°
    
ï¼ˆ2ï¼‰å¦‚æœå½“å‰å­—ç¬¦ä¸º0ï¼š
    iï¼šèƒ½ä¸å‰ä¸€å­—ç¬¦ç»“åˆã€‚ç”±äº0ä¸èƒ½å•ç‹¬è§£ç ï¼Œå› æ­¤èƒ½ä¸å‰ä¸€å­—ç¬¦ç»“åˆå°±ä¸å‰ä¸€å­—ç¬¦ç»“åˆåçœ‹æˆä¸€ä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆæƒ…å†µå°±å’Œå‰å‰ç§æƒ…å†µä¸€æ ·ï¼Œ
    æ•´ä½“è§£ç æ–¹æ³•æ•°ç­‰äºå‰å‰ç§æƒ…å†µä¸‹çš„æ–¹æ³•æ•°
    iiï¼šä¸èƒ½ä¸å‰ä¸€å­—ç¬¦ç»“åˆã€‚ç”±äº0æ—¢ä¸èƒ½å•ç‹¬è§£ç ï¼Œåˆæ— æ³•ä¸å‰ä¸€å­—ç¬¦ç»“åˆç¼–ç ï¼Œå› æ­¤è¿™ç§æƒ…å†µæ— è§£ã€‚
"""
class Solution:
    def numDecodings(self, s: str) -> int:
        pre_pre, cur, pre_s = 0, s[0] > '', ''
        for _s in s:
            pre_pre, cur, pre_s = cur, (_s > '0') * cur + ('10' <= pre_s + _s <= '26') * pre_pre, _s
        return cur
# leetcode submit region end(Prohibit modification and deletion)
